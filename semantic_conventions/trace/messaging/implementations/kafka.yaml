groups:
  - id: messaging.kafka
    prefix: messaging.kafka
    extends: messaging
    brief: >
      Attributes for Apache Kafka
    attributes:
      - id: message_key
        type: string
        brief: >
          Message keys in Kafka are used for grouping alike messages to ensure they're processed on the same partition.
          They differ from `messaging.message_id` in that they're not unique.
          If the key is `null`, the attribute MUST NOT be set.
        note: >
          If the key type is not string, it's string representation has to be supplied for the attribute.
          If the key has no unambiguous, canonical string form, don't include its value.
        examples: 'myKey'
      - id: consumer_group
        type: string
        brief: >
          Name of the Kafka Consumer Group that is handling the message.
          Only applies to consumers, not producers.
        examples: 'my-group'
      - id: client_id
        type: string
        brief: >
          Client Id for the Consumer or Producer that is handling the message.
        examples: 'client-5'
      - id: partition
        type: int
        brief: >
          Partition the message is sent to.
        examples: 2
      - id: tombstone
        type: boolean
        required:
          conditional: 'If missing, it is assumed to be false.'
        brief: 'A boolean that is true if the message is a tombstone.'